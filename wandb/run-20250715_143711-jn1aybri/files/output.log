✅ W&B initialized

🚀 Step 1: Creating taxonomy using OpenRouter (Gemini 2.0 Flash)...
🚀 Step 1: Creating taxonomy using OpenRouter (Gemini 2.0 Flash)...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-42ec-7ac8-b8cf-a977fd2bf23e
2025-07-15 14:37:12,598 - 13119557632 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-42ec-7ac8-b8cf-a977fd2bf23e
✅ Taxonomy created successfully!
📊 Themes: 2, Topics: 5
🔢 Token usage: 547 total (252 in, 295 out)
📋 Topics found:
  🎯 Worldbuilding:
    - Epic Fantasy Worlds
    - Interesting World-Building
  🎯 Narrative Elements:
    - Better Character Conversations
    - Plausible Utopia
    - Special Individuals
💰 Step 1 cost: $0.0011

🚀 Step 2: Extracting claims using OpenRouter (Gemini 2.0 Flash)...
🚀 Step 2: Extracting claims using OpenRouter (Gemini 2.0 Flash)...
   Processing comment 1/5...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-4ec2-72f0-850a-013f965f170d
2025-07-15 14:37:15,592 - 13136347136 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-4ec2-72f0-850a-013f965f170d
   📝 Comment: More epic fantasy worlds
   🎯 Claims extracted: 1
   Processing comment 2/5...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-52b1-7588-9f99-00ef91a18780
2025-07-15 14:37:16,597 - 13102768128 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-52b1-7588-9f99-00ef91a18780
   📝 Comment: Better conversations between characters
   🎯 Claims extracted: 1
   Processing comment 3/5...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-568d-7a18-b150-89a6d95f160c
2025-07-15 14:37:17,584 - 13119557632 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-568d-7a18-b150-89a6d95f160c
   📝 Comment: Interesting world-building
   🎯 Claims extracted: 1
   Processing comment 4/5...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-5a93-7d45-929c-11c8cd49d016
2025-07-15 14:37:18,615 - 13102768128 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-5a93-7d45-929c-11c8cd49d016
   📝 Comment: Plausible paths to utopia
   🎯 Claims extracted: 1
   Processing comment 5/5...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-5f1c-7996-957b-407da6a580ff
2025-07-15 14:37:19,775 - 13085978624 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-5f1c-7996-957b-407da6a580ff
   📝 Comment: Magical elements where individuals are special and...
   🎯 Claims extracted: 1
✅ Step 2 completed!
💰 Step 2 cost: $0.0035

🚀 Step 3: Sorting taxonomy using N/A...
🚀 Step 3: Sorting taxonomy (no LLM calls) using N/A...
✅ Taxonomy sorted successfully!
📊 Total topics: 5, Total claims: 5

🚀 Step 4: Deduplicating claims using OpenRouter (Gemini 2.0 Flash)...
🚀 Step 4: Deduplicating claims using OpenRouter (Gemini 2.0 Flash)...
   Processing topic 1: Epic Fantasy Worlds (1 claims)
     ⏭️  Skipping Epic Fantasy Worlds (only 1 claim)
   Processing topic 2: Interesting World-Building (1 claims)
     ⏭️  Skipping Interesting World-Building (only 1 claim)
   Processing topic 3: Better Character Conversations (1 claims)
     ⏭️  Skipping Better Character Conversations (only 1 claim)
   Processing topic 4: Plausible Utopia (1 claims)
     ⏭️  Skipping Plausible Utopia (only 1 claim)
   Processing topic 5: Special Individuals (1 claims)
     ⏭️  Skipping Special Individuals (only 1 claim)
✅ Step 4 completed!
💰 Step 4 cost: $0.0000
🔍 No duplicates found

🚀 Step 5: Generating structured JSON using OpenRouter (Gemini 2.0 Flash)...
🚀 Step 5: Generating structured JSON output using OpenRouter (Gemini 2.0 Flash)...
[36m[1mweave[0m: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-65fb-7bca-a2e7-f2f97a94d772
2025-07-15 14:37:22,034 - 13153136640 - op.py-op:113 - INFO: 🍩 https://wandb.ai/gainforest/deepgov_pipeline_enhanced/r/call/01980fce-65fb-7bca-a2e7-f2f97a94d772
✅ Structured JSON generated successfully!
📊 Structured data format confirmed
💰 Step 5 cost: $0.0043

🚀 Generating final T3C report...

💰 COST SUMMARY for OpenRouter (Gemini 2.0 Flash):
   Estimated: $0.0117
   Actual: $0.0089
   Token-based: $0.0089
   Accuracy: 0.0% of estimate
   💡 OpenAI equivalent cost: ~$0.1184
   💰 Savings vs OpenAI: ~$0.1095 (92.5%)

📊 PIPELINE SUMMARY:
   Provider: OpenRouter (Gemini 2.0 Flash)
   Model: google/gemini-2.0-flash-001
   Comments processed: 5
   Themes identified: 2
   Topics identified: 5
   Claims extracted: 5
   Duplicate groups: 0
   Total tokens used: 6,006
   Processing time: 21.52 seconds

📋 CSV Log: tiny_openrouter,provider_comparison,07/15/2025 13:37:30,5,N/A,0.0117,0.0089,0.0089,0.0011,0.0035,0.0,2,5,5

✅ Pipeline completed successfully with OpenRouter (Gemini 2.0 Flash)!
📊 Final report generated and logged to W&B
📄 Structured JSON saved to: results/tiny_openrouter_structured_output.json
